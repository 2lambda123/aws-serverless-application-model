Resources:
  CanaryWithDefinedArtifactLocation:
    Type: AWS::Serverless::Canary
    Properties:
      FunctionName: canary1
      Handler: hello.handler
      Runtime: python2.7
      ArtifactS3Location: s3://hello
      CodeUri: s3://sam-bucket/hello.zip
      Schedule:
        Expression: rate(0 minutes)
      StartCanaryAfterCreation: true
      Role: hello

  # if two serverless canaries without defined artifact locations are made they should each have an S3 bucket resource
  FirstCanaryWithNoArtifactLocation:
    Type: AWS::Serverless::Canary
    Properties:
      FunctionName: canary2
      Handler: hello.handler
      Runtime: python2.7
      InlineCode: hello
      Schedule:
        Expression: rate(0 minutes)
      StartCanaryAfterCreation: true
      Role: hello

  SecondCanaryWithNoArtifactLocation:
    Type: AWS::Serverless::Canary
    Properties:
      FunctionName: canary3
      Handler: hello.handler
      Runtime: python2.7
      InlineCode: hello
      Schedule:
        Expression: rate(0 minutes)
      StartCanaryAfterCreation: true
      Role: hello
