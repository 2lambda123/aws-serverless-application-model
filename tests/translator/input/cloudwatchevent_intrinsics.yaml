Resources:
  FunctionA:
    Type: 'AWS::Serverless::Function'
    Properties:
      CodeUri: s3://sam-demo-bucket/hello.zip?versionId=3Tcgv52_0GaDvhDva4YciYeqRyPnpIcO
      Handler: hello.handler
      Runtime: python2.7
      Events:
        OnTerminate2:
          Type: CloudWatchEvent
          Properties:
            EventBusName: EventBusName
            Pattern:
              detail:
                state:
                  - terminated
  FunctionB:
    Type: 'AWS::Serverless::Function'
    Properties:
      CodeUri: s3://sam-demo-bucket/hello.zip?versionId=3Tcgv52_0GaDvhDva4YciYeqRyPnpIcO
      Handler: hello.handler
      Runtime: python2.7
      Events:
        OnTerminate:
          Type: CloudWatchEvent
          Properties:
            EventBusName: !Join [ ":", [ "Event", "Bus", "Name" ] ]
            Pattern: !GetAtt ScheduledFunction.Events.FunctionA.Properties.Pattern
            Input: !Sub InputValue
            InputPath: !Sub InputPathValue

