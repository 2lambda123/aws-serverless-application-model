{
  "title": "Model",
  "type": "object",
  "properties": {
    "Resources": {
      "title": "Resources",
      "type": "object",
      "additionalProperties": {
        "anyOf": [
          {
            "$ref": "#/definitions/AwsServerlessConnector"
          },
          {
            "$ref": "#/definitions/AwsServerlessFunction"
          },
          {
            "$ref": "#/definitions/AnyCfnResource"
          }
        ]
      }
    }
  },
  "required": [
    "Resources"
  ],
  "definitions": {
    "ResourceReference": {
      "title": "ResourceReference",
      "type": "object",
      "properties": {
        "Id": {
          "title": "Id",
          "type": "string"
        },
        "Arn": {
          "title": "Arn"
        },
        "Name": {
          "title": "Name"
        },
        "Qualifier": {
          "title": "Qualifier"
        },
        "QueueUrl": {
          "title": "Queueurl"
        },
        "ResourceId": {
          "title": "Resourceid"
        },
        "RoleName": {
          "title": "Rolename"
        },
        "Type": {
          "title": "Type"
        }
      },
      "additionalProperties": false
    },
    "ConnectorProperties": {
      "title": "ConnectorProperties",
      "type": "object",
      "properties": {
        "Source": {
          "$ref": "#/definitions/ResourceReference"
        },
        "Destination": {
          "$ref": "#/definitions/ResourceReference"
        },
        "Permissions": {
          "title": "Permissions",
          "type": "array",
          "items": {
            "enum": [
              "Read",
              "Write"
            ],
            "type": "string"
          }
        }
      },
      "required": [
        "Source",
        "Destination",
        "Permissions"
      ],
      "additionalProperties": false
    },
    "AwsServerlessConnector": {
      "title": "AwsServerlessConnector",
      "type": "object",
      "properties": {
        "Type": {
          "title": "Type",
          "enum": [
            "AWS::Serverless::Connector"
          ],
          "type": "string"
        },
        "Properties": {
          "$ref": "#/definitions/ConnectorProperties"
        }
      },
      "required": [
        "Type",
        "Properties"
      ],
      "additionalProperties": false
    },
    "FunctionProperties": {
      "title": "FunctionProperties",
      "type": "object",
      "properties": {
        "Runtime": {
          "title": "Runtime",
          "type": "string"
        },
        "Handler": {
          "title": "Handler"
        },
        "Timeout": {
          "title": "Timeout"
        },
        "InlineCode": {
          "title": "Inlinecode"
        },
        "Environment": {
          "title": "Environment"
        },
        "Policies": {
          "title": "Policies"
        }
      },
      "required": [
        "Runtime"
      ],
      "additionalProperties": false
    },
    "AwsServerlessFunction": {
      "title": "AwsServerlessFunction",
      "type": "object",
      "properties": {
        "Type": {
          "title": "Type",
          "enum": [
            "AWS::Serverless::Function"
          ],
          "type": "string"
        },
        "Properties": {
          "$ref": "#/definitions/FunctionProperties"
        }
      },
      "required": [
        "Type",
        "Properties"
      ],
      "additionalProperties": false
    },
    "AnyCfnResource": {
      "title": "AnyCfnResource",
      "type": "object",
      "properties": {
        "Type": {
          "title": "Type",
          "pattern": "^((?!Serverless).)*$",
          "type": "string"
        }
      },
      "required": [
        "Type"
      ]
    }
  }
}
